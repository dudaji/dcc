컴퓨터 시스템

1. CPU와 기억장치의 접속
   시스템 버스
      - CPU와 시스템 내의 다른 요소들 사이에 정보를 교환하는 통로
      - 기본 구성 : 주소, 데이터, 제어 버스

   1) 주소 버스 : 단방향성 ( 주소는 CPU로부터 기억장치 or I/O 장치들로 보내지는 정보
      - 메모리에 있는 주소를 찾을 때 이용하는 버스
      - 주소 선의 수는 CPU와 접속 될 수 있는 최대 기억장치의 용량을 결정
         
   2) 데이터 버스 : 양방향성 ( 읽기 쓰기 동작을 모두 지원)
      - CPU가 기억장치 혹은 I/O 장치와의 사이에 데이터를 전송하기 위한 신호 선들의 집합
      - 데이터 선의 수는 CPU가 한 번에 전송할 수 있는 비트 수 결정
      
   3) 제어버스 : 정말 많다. 양방향 or 단방향
      - CPU가 시스템 내의 각종 요소들의 동작을 제어하기 위한 신호 선들의 집합
      - 기억장치의 R/W 신호, I/O 읽기/쓰기 신호
      
   * 기억장치 읽기 동작 : CPU가 기억장치 주소를 주소 버스를 통하여 보내면서 읽기 신호를 활성화
   * 기억장치 읽기 시간 : 주소를 DECODE 하는데 걸리는 시간과 선택된 기억 소자들로부터
                데이터를 읽는 데 걸리는 시간을 합한 시간
   
2. CPU와 I/O장치의 접속
   * 필요한 버스 및 제어 신호
      - 주소 버스
      - 데이터 버스
      - 제어 신호 : I/O 읽기, 쓰기 신호를
   * 접속 경로 : CPU - 시스템 버스 - I/O 장치 제어기 - I/O 장치
   
   
   * I/O 장치 제어기 : 상태 레지스터, 데이터 레지스터 <- 이전에는 이런게 많았는데, 요즘에는 메인보드에 내장되어 나온다.
      * 상태 레지스터
         - I/O 장치의 현재 상태를 나타내는 비트들을 저장한 레지스터
         - 준비 상태(RDY) 비트, 데이터 전송확인(ACK) 비트
      * 데이터 레지스터
         - CPU와 I/O 장치 간에 이동되는 데이터를 일시적으로 저장하는 레지스터
   
   * 컴퓨터의 기본적인 기능들
      - 프로그램 실행
      - 데이터 저장
      - 데이터 이동
      - 데이터 입력/출력
      - 제어
      

      
----------
시스템 버스, I/O 및 인터럽트

- 버스 : 구성 요소들간에 교환할 각종 정보들을 전송하는 선들로 구성
- 버스 선의 수 : 한 번에 전송하는 데이터 비트들의 수, 기억장치 주소 비트들의 수

중재 버스
   - 버스 마스터 : 시스템 버스에 접속되는 요소들 중에서 버스 사용의 주체가 되는 요소들 중에서 버스 사용의
            주체가 되는 요소들
   - 버스 중재 : 시스템 버스에 접속된 두 개 이상의 버스 마스터들이 동시에 버스를 사용하고자 할 때 순서대로
            한 개의 마스터씩 버스를 사용할 수 있게 해주는 동작
   - 중재 버스 : 버스 중재를 위한 신호 선들의 집합
      * 버스 요구 : 버스 마스터가 버스 사용을 요구했음을 알리는 신호
      * 버스 승인 신호 : 버스 사용을 요구한 마스터에게 사용을 허가하는 신호
      * 버스 사용중 신호 : 현재 버스가 사용되고 있는 중임을 나타내는 신호

인터럽트 버스
   - 인터럽트 메커니즘을 위한 제어 신호선들의 집합
   - 인터럽트 요구 신호 : I/O 장치가 인터럽트를 요구했음을 알리는 신호
   - 인터럽트 확인 : CPU가 인터럽트 요구를 인식했음을 알리는 신호
   - 그 이외의 제어 신호들 : 버스 클럭(동기식 버스에서 버스 동작들의 시작 시간을 일치시키기 위하여 제공되는 신호)
                      리셋


버스 대역폭
   - 버스의 속도를 나타내는 척도, 단위 시간당 전송할 수 있는 데이터 양을 나타내며, 버스 클럭의 주기에 의해 결정

시스템 버스의 기본 동작
   - 쓰기 동작 순서 : 버스 마스터가 버스 사용권 획득 -> 버스를 통하여 주소와 데이터 및 쓰기 신호 전송
   - 읽기 동작 순서 : 버스 마스터가 버스 사용권 획득 -> 주소와 읽기 신호를 보내고, 데이터가 전송되어 올 때까지 대기
   - 버스 동작의 타이밍에 따른 버스의 분류
      * 동기식 버스 : 시스템 버스에서 모든 버스 동작들이 공통의 버스 클럭을 기준으로 발생
         - 장점 : 인터페이스 회로 간단
         - 단점 : 버스 클럭의 주기가 가장 오래 걸리는 버스 동작의 소요 시간을 기준으로 결정
               클럭 주기보다 더 짧은 시간이 걸리는 버스 동작의 경우에는 동작이 완료 된 후에도
               다음 주기가 시작될 때까지 대기
               
      * 비동기식 버스 : 버스 동작들의 발생 시간이 관련된 다른 버스 동작의 발생 여부에 따라 결정
         - 장점 : 각버스 동작이 완료 즉시 연관된 다음 동작이 발생하기 때문에 동기식 버스에서와 같이
               낭비되는 시간이 없음
         - 단점 : 연속적 동작을 처리하기 위한 인터페이스 회로가 복잡

버스 중재
   - 버스 경합 : 한 개의 시스템 버스에 접속된 여러 개의 버스 마스터들이 동시에 버스 사용을 요구하는 현상
   - 버스 중재 : 버스 경합이 발생하는 경우, 어떤 기준에 따라 버스 마스터들 중에서 한 개씩만 선택하여 순서대로
            버스를 사용할 수 있게 해주는 동작
   - 버스 중재기 : 버스를 중재하는 하드웨어 모듈

   
   * 버스 중재 방식의 분류
      - 병렬 중재 방식 : 각 버스 마스터들이 독립적인 버스 요구 신호와 버스 승인 신호를 발생
            1. 고정 우선순위 방식 : 각 버스 마스터에 지정된 우선순위가 고정되어 있는 방식
            2. 가변 우선순위 방식 : 우선순위를 변경할 수 있는 방식
               * 회전 우선순위 방식 : 중재 동작이 끝날 때마다 모든 마스터들의 우선순위가 한 단계씩 낮아지고,
                           가장 우선순위가 낮았던 마스터가 최상위 우선순위를 가지도록하는 방법
               * 임의 우선순위 방식
               * 동등 우선순위 방식 : FIFO 알고리즘 사용, 모든 마스터들이 동등한 우선순위를 가짐
               * 최소-최근 사용 방식 : 최근 가장 오랫동안 버스를 사용하지 않은 버스 마스터에게 최상위 우선순위 할당
      - 직렬 중재 방식 : 버스 요구와 승인 신호 선이 각각 한 개씩만 존재하며, 각 신호 선을
                  버스 마스터들 간에 직렬로 접속하는 방식
      
      - 폴링 방식 : 마스터가 능동적으로 검사하여 사용 승인 여부를 결정
         * 하드웨어 폴링 방식
         * 소프트웨어 폴링 방식(거의 사용 안함)
            - 프로그램을 실행해야 하므로 하드웨어 방식에 비하여 속도가 더느림,
            - 장점 : 우선순위의 변경이 용이
   
   * 버스 중재기의 위치에 따른 분류
      - 중앙집중식 중재 방식
         * 시스템 내에 버스 중재기가 한 개만 존재하는 방식
         * 버스 마스터들이 발생하는 버스 요구 신호들은 하나의 중재기로 보내지고,
          중재기는 정해진 중재원칙에 따라 선택한 버스마스터에게 승인신호를 발생
      - 분산식 중재 방식
         * 여러 개의 버스 중재기들이 존재하며, 버스 중재 동작이 각 마스터의 중재기에 의하여 이루어지는 방식
         
   
   
   
   